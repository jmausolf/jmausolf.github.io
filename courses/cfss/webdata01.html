<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Getting data from the web: API access</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-45631879-2', 'auto');
  ga('send', 'pageview');

</script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 66px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 71px;
  margin-top: -71px;
}

.section h2 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h3 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h4 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h5 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h6 {
  padding-top: 71px;
  margin-top: -71px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.9em;
  padding-left: 5px;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Computing for the Social Sciences</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="faq.html">FAQ</a>
</li>
<li>
  <a href="syllabus.html">Syllabus</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->
<p><strong>This content is from the fall 2016 version of this course. Please go <a href = "https://uc-cfss.github.io">here</a> for the most recent version.</strong></p>

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Getting data from the web: API access</h1>

</div>


<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(tidyverse)
<span class="kw">library</span>(knitr)</code></pre></div>
<div id="objectives" class="section level1">
<h1>Objectives</h1>
<ul>
<li>Identify multiple methods for obtaining data from the internet</li>
<li>Define application program interface (API)</li>
<li>Explain authentication keys and demonstrate secure methods for storing these keys</li>
<li>Demonstrate how to use canned packages in R to access APIs</li>
<li>Practice gathering data from Twitter API using the <code>twitteR</code> package in R</li>
</ul>
</div>
<div id="methods-for-obtaining-data-online" class="section level1">
<h1>Methods for obtaining data online</h1>
<p>There are many ways to obtain data from the Internet. Four major categories are:</p>
<ul>
<li><em>click-and-download</em> on the internet as a “flat” file, such as .csv, .xls</li>
<li><em>install-and-play</em> an API for which someone has written a handy R package</li>
<li><em>API-query</em> published with an unwrapped API</li>
<li><em>Scraping</em> implicit in an html website</li>
</ul>
<div id="click-and-download" class="section level2">
<h2>Click-and-Download</h2>
<p>In the simplest case, the data you need is already on the internet in a tabular format. There are a couple of strategies here:</p>
<ul>
<li>Use <code>read.csv</code> or <code>readr::read_csv</code> to read the data straight into R</li>
<li>Use the <code>downloader</code> package or <code>curl</code> from the shell to download the file and store a local copy, then use <code>read_csv</code> or something similar to read the data into R
<ul>
<li>Even if the file disappears from the internet, you have a local copy cached</li>
</ul></li>
</ul>
<p>Even in this instance, files may need cleaning and transformation when you bring them into R.</p>
</div>
<div id="data-supplied-on-the-web" class="section level2">
<h2>Data supplied on the web</h2>
<p>Many times, the data that you want is not already organized into one or a few tables that you can read directly into R. More frequently, you find this data is given in the form of an API. <strong>A</strong>pplication <strong>P</strong>rogramming <strong>I</strong>nterfaces (APIs) are descriptions of the kind of requests that can be made of a certain piece of software, and descriptions of the kind of answers that are returned. Many sources of data - databases, websites, services - have made all (or part) of their data available via APIs over the internet. Computer programs (“clients”) can make requests of the server, and the server will respond by sending data (or an error message). This client can be many kinds of other programs or websites, including R running from your laptop.</p>
</div>
<div id="install-and-play-packages" class="section level2">
<h2>Install and play packages</h2>
<p>Many common web services and APIs have been “wrapped”, i.e. R and Python functions have been written around them which send your query to the server and format the response.</p>
<p>Why do we want this?</p>
<ul>
<li>provenance</li>
<li>reproducible</li>
<li>updating</li>
<li>ease</li>
<li>scaling</li>
</ul>
</div>
</div>
<div id="sightings-of-birds-rebird" class="section level1">
<h1>Sightings of birds: <code>rebird</code></h1>
<p><a href="https://github.com/ropensci/rebird"><code>rebird</code></a> is an R interface for the <a href="http://ebird.org/content/ebird/">ebird</a> database. e-Bird lets birders upload sightings of birds, and allows everyone access to those data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">&quot;rebird&quot;</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(rebird)</code></pre></div>
<div id="search-birds-by-geography" class="section level2">
<h2>Search birds by geography</h2>
<p>The ebird website categorizes some popular locations as “Hotspots”. These are areas where there are both lots of birds and lots of birders. Once such location is at Lincoln Park Zoo in Chicago. You can see data for this site at <a href="http://ebird.org/ebird/hotspot/L1573785" class="uri">http://ebird.org/ebird/hotspot/L1573785</a></p>
<p>At that link, you can see a page like this:</p>
<div class="figure">
<img src="images/lincoln_park_zoo.png" alt="Lincoln Park Zoo" />
<p class="caption">Lincoln Park Zoo</p>
</div>
<p>The data already look to be organized in a data frame! <code>rebird</code> allows us to read these data directly into R. (The ID code for Lincoln Park Zoo is **“L1573785**)</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ebirdhotspot</span>(<span class="dt">locID =</span> <span class="st">&quot;L1573785&quot;</span>) %&gt;%
<span class="st">  </span><span class="kw">tbl_df</span>()</code></pre></div>
<pre><code>## Warning: `rbind_all()` is deprecated. Please use `bind_rows()` instead.</code></pre>
<pre><code>## # A tibble: 23 × 11
##          lng                   locName howMany                sciName
##        &lt;dbl&gt;                     &lt;chr&gt;   &lt;int&gt;                  &lt;chr&gt;
## 1  -87.63272 Lincoln Park Zoo, Chicago      11             Aix sponsa
## 2  -87.63272 Lincoln Park Zoo, Chicago       2          Anas rubripes
## 3  -87.63272 Lincoln Park Zoo, Chicago     160     Anas platyrhynchos
## 4  -87.63272 Lincoln Park Zoo, Chicago       1     Larus delawarensis
## 5  -87.63272 Lincoln Park Zoo, Chicago       2  Corvus brachyrhynchos
## 6  -87.63272 Lincoln Park Zoo, Chicago      14       Sturnus vulgaris
## 7  -87.63272 Lincoln Park Zoo, Chicago       3  Cardinalis cardinalis
## 8  -87.63272 Lincoln Park Zoo, Chicago       3      Passer domesticus
## 9  -87.63272 Lincoln Park Zoo, Chicago      12      Branta canadensis
## 10 -87.63272 Lincoln Park Zoo, Chicago       1 Zonotrichia albicollis
## # ... with 13 more rows, and 7 more variables: obsValid &lt;lgl&gt;,
## #   locationPrivate &lt;lgl&gt;, obsDt &lt;chr&gt;, obsReviewed &lt;lgl&gt;, comName &lt;chr&gt;,
## #   lat &lt;dbl&gt;, locID &lt;chr&gt;</code></pre>
<p>We can use the function <code>ebirdgeo</code> to get a list for an area. (Note that South and West are negative):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">chibirds &lt;-<span class="st"> </span><span class="kw">ebirdgeo</span>(<span class="dt">lat =</span> <span class="fl">41.8781</span>, <span class="dt">lng =</span> -<span class="fl">87.6298</span>)</code></pre></div>
<pre><code>## Warning: `rbind_all()` is deprecated. Please use `bind_rows()` instead.</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">chibirds %&gt;%
<span class="st">  </span><span class="kw">tbl_df</span>() %&gt;%
<span class="st">  </span><span class="kw">head</span>() %&gt;%
<span class="st">    </span><span class="kw">kable</span>()</code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">lng</th>
<th align="left">locName</th>
<th align="right">howMany</th>
<th align="left">sciName</th>
<th align="left">obsValid</th>
<th align="left">locationPrivate</th>
<th align="left">obsDt</th>
<th align="left">obsReviewed</th>
<th align="left">comName</th>
<th align="right">lat</th>
<th align="left">locID</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">-87.61893</td>
<td align="left">Grant Park, Chicago</td>
<td align="right">6</td>
<td align="left">Corvus brachyrhynchos</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">2016-11-16 13:30</td>
<td align="left">FALSE</td>
<td align="left">American Crow</td>
<td align="right">41.87652</td>
<td align="left">L454170</td>
</tr>
<tr class="even">
<td align="right">-87.61893</td>
<td align="left">Grant Park, Chicago</td>
<td align="right">5</td>
<td align="left">Columba livia</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">2016-11-16 13:30</td>
<td align="left">FALSE</td>
<td align="left">Rock Pigeon</td>
<td align="right">41.87652</td>
<td align="left">L454170</td>
</tr>
<tr class="odd">
<td align="right">-87.61893</td>
<td align="left">Grant Park, Chicago</td>
<td align="right">40</td>
<td align="left">Larus delawarensis</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">2016-11-16 13:30</td>
<td align="left">FALSE</td>
<td align="left">Ring-billed Gull</td>
<td align="right">41.87652</td>
<td align="left">L454170</td>
</tr>
<tr class="even">
<td align="right">-87.61893</td>
<td align="left">Grant Park, Chicago</td>
<td align="right">2</td>
<td align="left">Cardinalis cardinalis</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">2016-11-16 13:30</td>
<td align="left">FALSE</td>
<td align="left">Northern Cardinal</td>
<td align="right">41.87652</td>
<td align="left">L454170</td>
</tr>
<tr class="odd">
<td align="right">-87.61893</td>
<td align="left">Grant Park, Chicago</td>
<td align="right">4</td>
<td align="left">Passer domesticus</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">2016-11-16 13:30</td>
<td align="left">FALSE</td>
<td align="left">House Sparrow</td>
<td align="right">41.87652</td>
<td align="left">L454170</td>
</tr>
<tr class="even">
<td align="right">-87.61893</td>
<td align="left">Grant Park, Chicago</td>
<td align="right">6</td>
<td align="left">Haemorhous mexicanus</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">2016-11-16 13:30</td>
<td align="left">FALSE</td>
<td align="left">House Finch</td>
<td align="right">41.87652</td>
<td align="left">L454170</td>
</tr>
</tbody>
</table>
<p><strong>Note</strong>: Check the defaults on this function. e.g. radius of circle, time of year.</p>
<p>We can also search by “region”, which refers to short codes which serve as common shorthands for different political units. For example, France is represented by the letters <strong>FR</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">frenchbirds &lt;-<span class="st"> </span><span class="kw">ebirdregion</span>(<span class="st">&quot;FR&quot;</span>)</code></pre></div>
<pre><code>## Warning: `rbind_all()` is deprecated. Please use `bind_rows()` instead.</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">frenchbirds %&gt;%
<span class="st">  </span><span class="kw">tbl_df</span>() %&gt;%
<span class="st">  </span><span class="kw">head</span>() %&gt;%
<span class="st">  </span><span class="kw">kable</span>()</code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">lng</th>
<th align="left">locName</th>
<th align="right">howMany</th>
<th align="left">sciName</th>
<th align="left">obsValid</th>
<th align="left">locationPrivate</th>
<th align="left">obsDt</th>
<th align="left">obsReviewed</th>
<th align="left">comName</th>
<th align="right">lat</th>
<th align="left">locID</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1.476020</td>
<td align="left">Terrain tennis GET</td>
<td align="right">1</td>
<td align="left">Strix aluco</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">2016-11-15 20:00</td>
<td align="left">FALSE</td>
<td align="left">Tawny Owl</td>
<td align="right">43.56071</td>
<td align="left">L4910164</td>
</tr>
<tr class="even">
<td align="right">3.868451</td>
<td align="left">FR-Languedoc-Roussillon-Montpellier-Agropolis I - 43,6473x3,8685</td>
<td align="right">2</td>
<td align="left">Cyanistes caeruleus</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">2016-11-15 18:03</td>
<td align="left">FALSE</td>
<td align="left">Eurasian Blue Tit</td>
<td align="right">43.64731</td>
<td align="left">L5083936</td>
</tr>
<tr class="odd">
<td align="right">3.868451</td>
<td align="left">FR-Languedoc-Roussillon-Montpellier-Agropolis I - 43,6473x3,8685</td>
<td align="right">5</td>
<td align="left">Sylvia melanocephala</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">2016-11-15 18:03</td>
<td align="left">FALSE</td>
<td align="left">Sardinian Warbler</td>
<td align="right">43.64731</td>
<td align="left">L5083936</td>
</tr>
<tr class="even">
<td align="right">3.868451</td>
<td align="left">FR-Languedoc-Roussillon-Montpellier-Agropolis I - 43,6473x3,8685</td>
<td align="right">3</td>
<td align="left">Parus major</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">2016-11-15 18:03</td>
<td align="left">FALSE</td>
<td align="left">Great Tit</td>
<td align="right">43.64731</td>
<td align="left">L5083936</td>
</tr>
<tr class="odd">
<td align="right">3.868451</td>
<td align="left">FR-Languedoc-Roussillon-Montpellier-Agropolis I - 43,6473x3,8685</td>
<td align="right">30</td>
<td align="left">Corvus monedula</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">2016-11-15 18:03</td>
<td align="left">FALSE</td>
<td align="left">Eurasian Jackdaw</td>
<td align="right">43.64731</td>
<td align="left">L5083936</td>
</tr>
<tr class="even">
<td align="right">3.868451</td>
<td align="left">FR-Languedoc-Roussillon-Montpellier-Agropolis I - 43,6473x3,8685</td>
<td align="right">3</td>
<td align="left">Columba palumbus</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">2016-11-15 18:03</td>
<td align="left">FALSE</td>
<td align="left">Common Wood-Pigeon</td>
<td align="right">43.64731</td>
<td align="left">L5083936</td>
</tr>
</tbody>
</table>
<p>Find out <em>WHEN</em> a bird has been seen in a certain place! Choosing a name from <code>chibirds</code> above (the Bald Eagle):</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">warbler &lt;-<span class="st"> </span><span class="kw">ebirdgeo</span>(<span class="dt">species =</span> <span class="st">&#39;Setophaga coronata&#39;</span>, <span class="dt">lat =</span> <span class="fl">41.8781</span>, <span class="dt">lng =</span> -<span class="fl">87.6298</span>)</code></pre></div>
<pre><code>## Warning: `rbind_all()` is deprecated. Please use `bind_rows()` instead.</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">warbler %&gt;%
<span class="st">  </span><span class="kw">tbl_df</span>() %&gt;%
<span class="st">  </span><span class="kw">head</span>() %&gt;%
<span class="st">  </span><span class="kw">kable</span>()</code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">lng</th>
<th align="left">locName</th>
<th align="right">howMany</th>
<th align="left">sciName</th>
<th align="left">obsValid</th>
<th align="left">locationPrivate</th>
<th align="left">obsDt</th>
<th align="left">obsReviewed</th>
<th align="left">comName</th>
<th align="right">lat</th>
<th align="left">locID</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">-87.76981</td>
<td align="left">Columbus Park, Chicago</td>
<td align="right">2</td>
<td align="left">Setophaga coronata</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">2016-11-15 07:31</td>
<td align="left">FALSE</td>
<td align="left">Yellow-rumped Warbler</td>
<td align="right">41.87518</td>
<td align="left">L108479</td>
</tr>
<tr class="even">
<td align="right">-87.76368</td>
<td align="left">Skokie Lagoons Forest Preserve–Willow Rd.</td>
<td align="right">2</td>
<td align="left">Setophaga coronata</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">2016-11-15 07:00</td>
<td align="left">FALSE</td>
<td align="left">Yellow-rumped Warbler</td>
<td align="right">42.10221</td>
<td align="left">L124256</td>
</tr>
<tr class="odd">
<td align="right">-87.88874</td>
<td align="left">Salt Creek Woods Nature Preserve</td>
<td align="right">1</td>
<td align="left">Setophaga coronata</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">2016-11-12 07:55</td>
<td align="left">FALSE</td>
<td align="left">Yellow-rumped Warbler</td>
<td align="right">41.82832</td>
<td align="left">L724602</td>
</tr>
<tr class="even">
<td align="right">-87.61540</td>
<td align="left">Grant Park, Chicago–Museum Campus</td>
<td align="right">1</td>
<td align="left">Setophaga coronata</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">2016-11-10 11:20</td>
<td align="left">FALSE</td>
<td align="left">Yellow-rumped Warbler</td>
<td align="right">41.86640</td>
<td align="left">L152687</td>
</tr>
<tr class="odd">
<td align="right">-87.63442</td>
<td align="left">Montrose Point, Lincoln Park, Chicago</td>
<td align="right">1</td>
<td align="left">Setophaga coronata</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">2016-11-08 07:37</td>
<td align="left">FALSE</td>
<td align="left">Yellow-rumped Warbler</td>
<td align="right">41.96338</td>
<td align="left">L161180</td>
</tr>
<tr class="even">
<td align="right">-87.62359</td>
<td align="left">US-IL-Chicago-2600-2702 S Michigan Ave - 41.8455x-87.6236</td>
<td align="right">1</td>
<td align="left">Setophaga coronata</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">2016-11-07 07:38</td>
<td align="left">FALSE</td>
<td align="left">Yellow-rumped Warbler</td>
<td align="right">41.84555</td>
<td align="left">L5065218</td>
</tr>
</tbody>
</table>
<p><code>rebird</code> <strong>knows where you are</strong>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ebirdgeo</span>(<span class="dt">species =</span> <span class="st">&#39;Setophaga coronata&#39;</span>) %&gt;%
<span class="st">  </span><span class="kw">tbl_df</span>() %&gt;%
<span class="st">  </span><span class="kw">head</span>() %&gt;%
<span class="st">  </span><span class="kw">kable</span>()</code></pre></div>
<pre><code>## Warning: As a complete lat/long pair was not provided, your location was
## determined using your computer&#39;s public-facing IP address. This will likely
## not reflect your physical location if you are using a remote server or
## proxy.</code></pre>
<pre><code>## Warning: `rbind_all()` is deprecated. Please use `bind_rows()` instead.</code></pre>
<table>
<thead>
<tr class="header">
<th align="right">lng</th>
<th align="left">locName</th>
<th align="right">howMany</th>
<th align="left">sciName</th>
<th align="left">obsValid</th>
<th align="left">locationPrivate</th>
<th align="left">obsDt</th>
<th align="left">obsReviewed</th>
<th align="left">comName</th>
<th align="right">lat</th>
<th align="left">locID</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">-87.76981</td>
<td align="left">Columbus Park, Chicago</td>
<td align="right">2</td>
<td align="left">Setophaga coronata</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">2016-11-15 07:31</td>
<td align="left">FALSE</td>
<td align="left">Yellow-rumped Warbler</td>
<td align="right">41.87518</td>
<td align="left">L108479</td>
</tr>
<tr class="even">
<td align="right">-87.88874</td>
<td align="left">Salt Creek Woods Nature Preserve</td>
<td align="right">1</td>
<td align="left">Setophaga coronata</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">2016-11-12 07:55</td>
<td align="left">FALSE</td>
<td align="left">Yellow-rumped Warbler</td>
<td align="right">41.82832</td>
<td align="left">L724602</td>
</tr>
<tr class="odd">
<td align="right">-87.61540</td>
<td align="left">Grant Park, Chicago–Museum Campus</td>
<td align="right">1</td>
<td align="left">Setophaga coronata</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">2016-11-10 11:20</td>
<td align="left">FALSE</td>
<td align="left">Yellow-rumped Warbler</td>
<td align="right">41.86640</td>
<td align="left">L152687</td>
</tr>
<tr class="even">
<td align="right">-87.63442</td>
<td align="left">Montrose Point, Lincoln Park, Chicago</td>
<td align="right">1</td>
<td align="left">Setophaga coronata</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">2016-11-08 07:37</td>
<td align="left">FALSE</td>
<td align="left">Yellow-rumped Warbler</td>
<td align="right">41.96338</td>
<td align="left">L161180</td>
</tr>
<tr class="odd">
<td align="right">-87.62359</td>
<td align="left">US-IL-Chicago-2600-2702 S Michigan Ave - 41.8455x-87.6236</td>
<td align="right">1</td>
<td align="left">Setophaga coronata</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
<td align="left">2016-11-07 07:38</td>
<td align="left">FALSE</td>
<td align="left">Yellow-rumped Warbler</td>
<td align="right">41.84555</td>
<td align="left">L5065218</td>
</tr>
<tr class="even">
<td align="right">-87.43790</td>
<td align="left">Highland Rookery (Cline Ave. Marsh)</td>
<td align="right">1</td>
<td align="left">Setophaga coronata</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
<td align="left">2016-11-04 14:00</td>
<td align="left">FALSE</td>
<td align="left">Yellow-rumped Warbler</td>
<td align="right">41.56272</td>
<td align="left">L2235142</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="searching-geographic-info-geonames" class="section level1">
<h1>Searching geographic info: <code>geonames</code></h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># install.packages(geonames)</span>
<span class="kw">library</span>(geonames)</code></pre></div>
<div id="api-authentication" class="section level2">
<h2>API authentication</h2>
<p>Many APIs require you to register for access. This allows them to track which users are submitting queries and manage demand - if you submit too many queries too quickly, you might be <em>rate-limited</em> and your requests de-prioritized or blocked. Always check the API access policy of the web site to determine what these limits are.</p>
<p>There are a few things we need to do to be able to use this package to access the geonames API:</p>
<ol style="list-style-type: decimal">
<li>go to <a href="www.geonames.org/login/">the geonames site</a> and register an account.</li>
<li>click <a href="http://www.geonames.org/enablefreewebservice">here to enable the free web service</a></li>
<li>Tell R your geonames username. You could run the line</li>
</ol>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">options</span>(<span class="dt">geonamesUsername =</span> <span class="st">&quot;my_user_name&quot;</span>)</code></pre></div>
<p>in R. However this is insecure. We don’t want to risk committing this line and pushing it to our public GitHub page! Instead, you should create a file in the same place as your <code>.Rproj</code> file. Name this file <code>.Rprofile</code>, and add</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">options</span>(<span class="dt">geonamesUsername =</span> <span class="st">&quot;my_user_name&quot;</span>)</code></pre></div>
<p>to that file.</p>
<div id="important" class="section level3">
<h3>Important</h3>
<ul>
<li>Make sure your <code>.Rprofile</code> ends with a blank line</li>
<li>Make sure <code>.Rprofile</code> is included in your <code>.gitignore</code> file, otherwise it will be synced with Github</li>
<li>Restart RStudio after modifying <code>.Rprofile</code> in order to load any new keys into memory</li>
<li>Spelling is important when you set the option in your <code>.Rprofile</code></li>
<li>You can do a similar process for an arbitrary package or key. For example:</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># in .Rprofile</span>
<span class="kw">options</span>(<span class="st">&quot;this_is_my_key&quot;</span> =<span class="st"> </span>XXXX)

<span class="co"># later, in the R script:</span>
key &lt;-<span class="st"> </span><span class="kw">getOption</span>(<span class="st">&quot;this_is_my_key&quot;</span>)</code></pre></div>
<p>This is a simple means to keep your keys private, especially if you are sharing the same authentication across several projects. Remember that using <code>.Rprofile</code> makes your code un-reproducible. In this case, that is exactly what we want!</p>
</div>
</div>
<div id="using-geonames" class="section level2">
<h2>Using Geonames</h2>
<p>What can we do? Get access to lots of geographical information via the various <a href="http://www.geonames.org/export/ws-overview.html">“web services”</a></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">countryInfo &lt;-<span class="st"> </span><span class="kw">GNcountryInfo</span>()</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">countryInfo %&gt;%
<span class="st">  </span><span class="kw">tbl_df</span>() %&gt;%
<span class="st">  </span><span class="kw">head</span>() %&gt;%
<span class="st">  </span><span class="kw">kable</span>()</code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">continent</th>
<th align="left">capital</th>
<th align="left">languages</th>
<th align="left">geonameId</th>
<th align="left">south</th>
<th align="left">isoAlpha3</th>
<th align="left">north</th>
<th align="left">fipsCode</th>
<th align="left">population</th>
<th align="left">east</th>
<th align="left">isoNumeric</th>
<th align="left">areaInSqKm</th>
<th align="left">countryCode</th>
<th align="left">west</th>
<th align="left">countryName</th>
<th align="left">continentName</th>
<th align="left">currencyCode</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">EU</td>
<td align="left">Andorra la Vella</td>
<td align="left">ca</td>
<td align="left">3041565</td>
<td align="left">42.4284925987684</td>
<td align="left">AND</td>
<td align="left">42.6560438963</td>
<td align="left">AN</td>
<td align="left">84000</td>
<td align="left">1.78654277783198</td>
<td align="left">020</td>
<td align="left">468.0</td>
<td align="left">AD</td>
<td align="left">1.40718671411128</td>
<td align="left">Principality of Andorra</td>
<td align="left">Europe</td>
<td align="left">EUR</td>
</tr>
<tr class="even">
<td align="left">AS</td>
<td align="left">Abu Dhabi</td>
<td align="left">ar-AE,fa,en,hi,ur</td>
<td align="left">290557</td>
<td align="left">22.6333293914795</td>
<td align="left">ARE</td>
<td align="left">26.0841598510742</td>
<td align="left">AE</td>
<td align="left">4975593</td>
<td align="left">56.3816604614258</td>
<td align="left">784</td>
<td align="left">82880.0</td>
<td align="left">AE</td>
<td align="left">51.5833282470703</td>
<td align="left">United Arab Emirates</td>
<td align="left">Asia</td>
<td align="left">AED</td>
</tr>
<tr class="odd">
<td align="left">AS</td>
<td align="left">Kabul</td>
<td align="left">fa-AF,ps,uz-AF,tk</td>
<td align="left">1149361</td>
<td align="left">29.377472</td>
<td align="left">AFG</td>
<td align="left">38.483418</td>
<td align="left">AF</td>
<td align="left">29121286</td>
<td align="left">74.879448</td>
<td align="left">004</td>
<td align="left">647500.0</td>
<td align="left">AF</td>
<td align="left">60.478443</td>
<td align="left">Islamic Republic of Afghanistan</td>
<td align="left">Asia</td>
<td align="left">AFN</td>
</tr>
<tr class="even">
<td align="left">NA</td>
<td align="left">Saint John’s</td>
<td align="left">en-AG</td>
<td align="left">3576396</td>
<td align="left">16.996979</td>
<td align="left">ATG</td>
<td align="left">17.729387</td>
<td align="left">AC</td>
<td align="left">86754</td>
<td align="left">-61.672421</td>
<td align="left">028</td>
<td align="left">443.0</td>
<td align="left">AG</td>
<td align="left">-61.906425</td>
<td align="left">Antigua and Barbuda</td>
<td align="left">North America</td>
<td align="left">XCD</td>
</tr>
<tr class="odd">
<td align="left">NA</td>
<td align="left">The Valley</td>
<td align="left">en-AI</td>
<td align="left">3573511</td>
<td align="left">18.166815</td>
<td align="left">AIA</td>
<td align="left">18.283424</td>
<td align="left">AV</td>
<td align="left">13254</td>
<td align="left">-62.971359</td>
<td align="left">660</td>
<td align="left">102.0</td>
<td align="left">AI</td>
<td align="left">-63.172901</td>
<td align="left">Anguilla</td>
<td align="left">North America</td>
<td align="left">XCD</td>
</tr>
<tr class="even">
<td align="left">EU</td>
<td align="left">Tirana</td>
<td align="left">sq,el</td>
<td align="left">783754</td>
<td align="left">39.648361</td>
<td align="left">ALB</td>
<td align="left">42.665611</td>
<td align="left">AL</td>
<td align="left">2986952</td>
<td align="left">21.068472</td>
<td align="left">008</td>
<td align="left">28748.0</td>
<td align="left">AL</td>
<td align="left">19.293972</td>
<td align="left">Republic of Albania</td>
<td align="left">Europe</td>
<td align="left">ALL</td>
</tr>
</tbody>
</table>
<p>This country info dataset is very helpful for accessing the rest of the data, because it gives us the standardized codes for country and language.</p>
</div>
</div>
<div id="searching-the-public-library-of-science-rplos" class="section level1">
<h1>Searching the Public Library of Science: <code>rplos</code></h1>
<p>PLOS ONE is an open-access journal. They allow access to an impressive range of search tools, and allow you to obtain the full text of their articles. Unlike <code>geonames</code>, <code>rplos</code> no longer requires an individual key to access the API.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">&quot;rplos&quot;</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(rplos)</code></pre></div>
<p>Let’s do some searches:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">searchplos</span>(<span class="dt">q =</span> <span class="st">&quot;alcohol&quot;</span>, <span class="dt">fl =</span> <span class="st">&quot;id,title&quot;</span>, <span class="dt">limit =</span> <span class="dv">10</span>) %&gt;%
<span class="st">  </span><span class="kw">kable</span>()</code></pre></div>
<table class="kable_wrapper">
<tbody>
<tr>
<td>
<table>
<thead>
<tr class="header">
<th align="right">numFound</th>
<th align="right">start</th>
<th align="left">maxScore</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">22873</td>
<td align="right">0</td>
<td align="left">NA</td>
</tr>
</tbody>
</table>
</td>
<td>
<table>
<thead>
<tr class="header">
<th align="left">id</th>
<th align="left">title</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">10.1371/journal.pmed.0040151</td>
<td align="left">Comparative Analysis of Alcohol Control Policies in 30 Countries</td>
</tr>
<tr class="even">
<td align="left">10.1371/journal.pone.0027752</td>
<td align="left">Feasibility of an Alcohol Intervention Programme for TB Patients with Alcohol Use Disorder (AUD) - A Qualitative Study from Chennai, South India</td>
</tr>
<tr class="odd">
<td align="left">10.1371/journal.pmed.0050108</td>
<td align="left">Retail Sales of Alcohol and the Risk of Being a Victim of Assault</td>
</tr>
<tr class="even">
<td align="left">10.1371/journal.pone.0071284</td>
<td align="left">Ghrelin Receptor (GHS-R1A) Antagonism Suppresses Both Alcohol Consumption and the Alcohol Deprivation Effect in Rats following Long-Term Voluntary Alcohol Consumption</td>
</tr>
<tr class="odd">
<td align="left">10.1371/journal.pone.0153027</td>
<td align="left">Health Warnings on Alcoholic Beverages: Perceptions of the Health Risks and Intentions towards Alcohol Consumption</td>
</tr>
<tr class="even">
<td align="left">10.1371/journal.pone.0137790</td>
<td align="left">Alcohol Use and Gamma-Glutamyltransferase Using a Mendelian Randomization Design in the Guangzhou Biobank Cohort Study</td>
</tr>
<tr class="odd">
<td align="left">10.1371/journal.pone.0022994</td>
<td align="left">Evaluation of Un-Medicated, Self-Paced Alcohol Withdrawal</td>
</tr>
<tr class="even">
<td align="left">10.1371/journal.pmed.0050104</td>
<td align="left">Alcohol Sales and Risk of Serious Assault</td>
</tr>
<tr class="odd">
<td align="left">10.1371/journal.pone.0099906</td>
<td align="left">Alcohol Tax Policy and Related Mortality. An Age-Period-Cohort Analysis of a Rapidly Developed Chinese Population, 1981–2010</td>
</tr>
<tr class="even">
<td align="left">10.1371/journal.pone.0067386</td>
<td align="left">An Experimental Trial Exploring the Impact of Continuous Transdermal Alcohol Monitoring upon Alcohol Consumption in a Cohort of Male Students</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
<div id="relative-frequency-plot" class="section level2">
<h2>Relative frequency plot</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">out &lt;-<span class="st"> </span><span class="kw">plosword</span>(<span class="kw">list</span>(<span class="st">&quot;alcohol&quot;</span>, <span class="st">&quot;heroin&quot;</span>, <span class="st">&quot;marijuana&quot;</span>),
    <span class="dt">vis =</span> <span class="st">&quot;TRUE&quot;</span>)
out$table</code></pre></div>
<pre><code>##   No_Articles      Term
## 1       22873   alcohol
## 2         747    heroin
## 3         518 marijuana</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">out$plot</code></pre></div>
<p><img src="webdata01_files/figure-html/unnamed-chunk-15-1.png" width="672" /></p>
<p>Here is a list of <a href="http://api.plos.org/solr/search-fields/">options for the search</a>.</p>
</div>
<div id="plots-over-time" class="section level2">
<h2>Plots over time</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">plot_throughtime</span>(<span class="dt">terms =</span> <span class="kw">c</span>(<span class="st">&quot;alcohol&quot;</span>, <span class="st">&quot;heroin&quot;</span>, <span class="st">&quot;marijuana&quot;</span>), <span class="dt">limit =</span> <span class="dv">200</span>)</code></pre></div>
<pre><code>## Warning: Removed 5 rows containing missing values (geom_path).</code></pre>
<p><img src="webdata01_files/figure-html/unnamed-chunk-16-1.png" width="672" /></p>
</div>
</div>
<div id="scraping-twitter" class="section level1">
<h1>Scraping Twitter</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">install.packages</span>(<span class="st">&quot;twitteR&quot;</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(twitteR)</code></pre></div>
<p>There are several packages for R (and Python) for accessing and searching Twitter. Twitter actually has two separate APIs:</p>
<ol style="list-style-type: decimal">
<li>The <em>REST</em> API - this allows you programmatic access to read and write Twitter data. For research purposes, this allows you to search the recent history of tweets and look up specific users.</li>
<li>The <em>Streaming</em> API - this allows you to access the public data flowing through Twitter in real-time. It requires your R or Python session to be running continuously, but allows you to capture a much larger sample of tweets while avoiding rate limits for the REST API.</li>
</ol>
<div id="packages" class="section level2">
<h2>Packages</h2>
<ul>
<li><a href="https://cran.rstudio.com/web/packages/twitteR/index.html"><code>twitteR</code></a> is the most popular package for R, but it only allows you to access the REST API.</li>
<li><a href="https://cran.rstudio.com/web/packages/streamR/index.html"><code>streamR</code></a> is more complicated, but allows you to query the Streaming API from R.</li>
<li><a href="http://www.tweepy.org/"><code>tweepy</code></a> is a package for Python that allows you to access both the REST and Streaming APIs.</li>
</ul>
<p>Here, we are going to practice using the <code>twitteR</code> package to search Twitter.</p>
</div>
<div id="oauth-authentication" class="section level2">
<h2>OAuth authentication</h2>
<p>OAuth is an open standard for authorization, commonly used as a way for Internet users to authorize websites or applications to access their information on other websites but without giving them the passwords. This still requires an API key, but is a bit more complicated to setup.</p>
<ol style="list-style-type: decimal">
<li>The first step is to create a Twitter application for yourself. In order to do this, you do need to have a registered Twitter account. Go to (<a href="https://apps.twitter.com/app/new" class="uri">https://apps.twitter.com/app/new</a>) and log in. After filling in the basic info (make sure to set the “Callback URL” to (<a href="http://127.0.0.1:1410" class="uri">http://127.0.0.1:1410</a>)), go to the <em>Permissions</em> tab and select “Read, Write and Access direct messages”. Make sure to click on the save button after doing this. In the <em>Details</em> tab, take note of your consumer key and consumer secret.</li>
<li><p>Store your API key and token using the <code>.Rprofile</code> method. Edit <code>.Rprofile</code> and add</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">options</span>(<span class="dt">twitter_api_key =</span> <span class="st">&quot;Your API key&quot;</span>)
<span class="kw">options</span>(<span class="dt">twitter_api_token =</span> <span class="st">&quot;Your API secret&quot;</span>)</code></pre></div>
Restart RStudio to get the keys loaded into your environment.</li>
<li><p>Run from the console:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setup_twitter_oauth</span>(<span class="dt">consumer_key =</span> <span class="kw">getOption</span>(<span class="st">&quot;twitter_api_key&quot;</span>),
                    <span class="dt">consumer_secret =</span> <span class="kw">getOption</span>(<span class="st">&quot;twitter_api_token&quot;</span>))</code></pre></div>
This will open your browser and take you to a page to authorize your app to access your Twitter account. You need this in order to search any content on Twitter.</li>
<li><p>At this point you should get a message back in RStudio “Authentication complete.” You’re done setting up the authentication for <code>twitteR</code>.</p></li>
</ol>
<p><strong>You must do this in order to query Twitter from within a non-interactive session (i.e. an R Markdown document or using <code>source()</code> to run a script).</strong> If you do not, you will get an error because R will not be able to finish the authentication process without your input.</p>
</div>
<div id="searching-tweets" class="section level2">
<h2>Searching tweets</h2>
<pre><code>## [1] &quot;Using browser based authentication&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">tweets &lt;-<span class="st"> </span><span class="kw">searchTwitter</span>(<span class="st">&#39;#rstats&#39;</span>, <span class="dt">n =</span> <span class="dv">5</span>)
tweets</code></pre></div>
<pre><code>## [[1]]
## [1] &quot;LovedeepSG: RT @Rbloggers: R Jobs for R users – 10 jobs from around the world (2016-11-17) https://t.co/w7xBuwQFf3 #rstats #DataScience&quot;
## 
## [[2]]
## [1] &quot;tarakc02: RT @tarakc02: Currently in development: rmapzen, an #rstats package to access the @mapzen search API https://t.co/L3QVVNEtZM -- feedback ap…&quot;
## 
## [[3]]
## [1] &quot;G_Devailly: New #rstats coding style makes it as readable as #perl : https://t.co/pRxUmAsh9f&quot;
## 
## [[4]]
## [1] &quot;atiretoo: Definition of existential pain = looking at code I wrote 2 years ago #rstats&quot;
## 
## [[5]]
## [1] &quot;groundwalkergmb: @stefanbache @hspter @carroll_jono Maybe, though that does not play nice with OOP in #rstats (of the S3 OR S4 variety)&quot;</code></pre>
</div>
<div id="searching-users" class="section level2">
<h2>Searching users</h2>
<p>Use <code>getUser()</code> which returns a <code>user</code> object that you can perform additional functions on. This only works for users with public profiles or those that have authorized your app.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">clinton &lt;-<span class="st"> </span><span class="kw">getUser</span>(<span class="st">&quot;hillaryclinton&quot;</span>)
clinton$<span class="kw">getDescription</span>()</code></pre></div>
<pre><code>## [1] &quot;Wife, mom, grandma, women+kids advocate, FLOTUS, Senator, SecState, hair icon, pantsuit aficionado, 2016 presidential candidate. Tweets from Hillary signed –H&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">clinton$<span class="kw">getFriends</span>(<span class="dt">n =</span> <span class="dv">5</span>)</code></pre></div>
<pre><code>## $`3004231`
## [1] &quot;SnoopDogg&quot;
## 
## $`3153892631`
## [1] &quot;RobbyMook&quot;
## 
## $`18730233`
## [1] &quot;daniellekantor&quot;
## 
## $`4732338444`
## [1] &quot;RyanForRecovery&quot;</code></pre>
</div>
<div id="tidying-tweets" class="section level2">
<h2>Tidying tweets</h2>
<p>By default <code>twitteR</code> returns tweets in complex lists.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(tweets)</code></pre></div>
<pre><code>## List of 5
##  $ :Reference class &#39;status&#39; [package &quot;twitteR&quot;] with 17 fields
##   ..$ text         : chr &quot;RT @Rbloggers: R Jobs for R users – 10 jobs from around the world (2016-11-17) https://t.co/w7xBuwQFf3 #rstats #DataScience&quot;
##   ..$ favorited    : logi FALSE
##   ..$ favoriteCount: num 0
##   ..$ replyToSN    : chr(0) 
##   ..$ created      : POSIXct[1:1], format: &quot;2016-11-17 16:07:11&quot;
##   ..$ truncated    : logi FALSE
##   ..$ replyToSID   : chr(0) 
##   ..$ id           : chr &quot;799282748812763137&quot;
##   ..$ replyToUID   : chr(0) 
##   ..$ statusSource : chr &quot;&lt;a href=\&quot;http://twitter.com/download/android\&quot; rel=\&quot;nofollow\&quot;&gt;Twitter for Android&lt;/a&gt;&quot;
##   ..$ screenName   : chr &quot;LovedeepSG&quot;
##   ..$ retweetCount : num 4
##   ..$ isRetweet    : logi TRUE
##   ..$ retweeted    : logi FALSE
##   ..$ longitude    : chr(0) 
##   ..$ latitude     : chr(0) 
##   ..$ urls         :&#39;data.frame&#39;:    1 obs. of  5 variables:
##   .. ..$ url         : chr &quot;https://t.co/w7xBuwQFf3&quot;
##   .. ..$ expanded_url: chr &quot;https://wp.me/pMm6L-Bd5&quot;
##   .. ..$ display_url : chr &quot;wp.me/pMm6L-Bd5&quot;
##   .. ..$ start_index : num 79
##   .. ..$ stop_index  : num 102
##   ..and 53 methods, of which 39 are  possibly relevant:
##   ..  getCreated, getFavoriteCount, getFavorited, getId, getIsRetweet,
##   ..  getLatitude, getLongitude, getReplyToSID, getReplyToSN,
##   ..  getReplyToUID, getRetweetCount, getRetweeted, getRetweeters,
##   ..  getRetweets, getScreenName, getStatusSource, getText, getTruncated,
##   ..  getUrls, initialize, setCreated, setFavoriteCount, setFavorited,
##   ..  setId, setIsRetweet, setLatitude, setLongitude, setReplyToSID,
##   ..  setReplyToSN, setReplyToUID, setRetweetCount, setRetweeted,
##   ..  setScreenName, setStatusSource, setText, setTruncated, setUrls,
##   ..  toDataFrame, toDataFrame#twitterObj
##  $ :Reference class &#39;status&#39; [package &quot;twitteR&quot;] with 17 fields
##   ..$ text         : chr &quot;RT @tarakc02: Currently in development: rmapzen, an #rstats package to access the @mapzen search API https://t.co/L3QVVNEtZM --&quot;| __truncated__
##   ..$ favorited    : logi FALSE
##   ..$ favoriteCount: num 0
##   ..$ replyToSN    : chr(0) 
##   ..$ created      : POSIXct[1:1], format: &quot;2016-11-17 16:07:07&quot;
##   ..$ truncated    : logi FALSE
##   ..$ replyToSID   : chr(0) 
##   ..$ id           : chr &quot;799282731012083712&quot;
##   ..$ replyToUID   : chr(0) 
##   ..$ statusSource : chr &quot;&lt;a href=\&quot;http://twitter.com\&quot; rel=\&quot;nofollow\&quot;&gt;Twitter Web Client&lt;/a&gt;&quot;
##   ..$ screenName   : chr &quot;tarakc02&quot;
##   ..$ retweetCount : num 3
##   ..$ isRetweet    : logi TRUE
##   ..$ retweeted    : logi FALSE
##   ..$ longitude    : chr(0) 
##   ..$ latitude     : chr(0) 
##   ..$ urls         :&#39;data.frame&#39;:    1 obs. of  5 variables:
##   .. ..$ url         : chr &quot;https://t.co/L3QVVNEtZM&quot;
##   .. ..$ expanded_url: chr &quot;https://github.com/tarakc02/rmapzen&quot;
##   .. ..$ display_url : chr &quot;github.com/tarakc02/rmapz…&quot;
##   .. ..$ start_index : num 101
##   .. ..$ stop_index  : num 124
##   ..and 53 methods, of which 39 are  possibly relevant:
##   ..  getCreated, getFavoriteCount, getFavorited, getId, getIsRetweet,
##   ..  getLatitude, getLongitude, getReplyToSID, getReplyToSN,
##   ..  getReplyToUID, getRetweetCount, getRetweeted, getRetweeters,
##   ..  getRetweets, getScreenName, getStatusSource, getText, getTruncated,
##   ..  getUrls, initialize, setCreated, setFavoriteCount, setFavorited,
##   ..  setId, setIsRetweet, setLatitude, setLongitude, setReplyToSID,
##   ..  setReplyToSN, setReplyToUID, setRetweetCount, setRetweeted,
##   ..  setScreenName, setStatusSource, setText, setTruncated, setUrls,
##   ..  toDataFrame, toDataFrame#twitterObj
##  $ :Reference class &#39;status&#39; [package &quot;twitteR&quot;] with 17 fields
##   ..$ text         : chr &quot;New #rstats coding style makes it as readable as #perl : https://t.co/pRxUmAsh9f&quot;
##   ..$ favorited    : logi FALSE
##   ..$ favoriteCount: num 0
##   ..$ replyToSN    : chr(0) 
##   ..$ created      : POSIXct[1:1], format: &quot;2016-11-17 16:05:24&quot;
##   ..$ truncated    : logi FALSE
##   ..$ replyToSID   : chr(0) 
##   ..$ id           : chr &quot;799282297006592000&quot;
##   ..$ replyToUID   : chr(0) 
##   ..$ statusSource : chr &quot;&lt;a href=\&quot;http://twitter.com\&quot; rel=\&quot;nofollow\&quot;&gt;Twitter Web Client&lt;/a&gt;&quot;
##   ..$ screenName   : chr &quot;G_Devailly&quot;
##   ..$ retweetCount : num 0
##   ..$ isRetweet    : logi FALSE
##   ..$ retweeted    : logi FALSE
##   ..$ longitude    : chr(0) 
##   ..$ latitude     : chr(0) 
##   ..$ urls         :&#39;data.frame&#39;:    0 obs. of  4 variables:
##   .. ..$ url         : chr(0) 
##   .. ..$ expanded_url: chr(0) 
##   .. ..$ dispaly_url : chr(0) 
##   .. ..$ indices     : num(0) 
##   ..and 53 methods, of which 39 are  possibly relevant:
##   ..  getCreated, getFavoriteCount, getFavorited, getId, getIsRetweet,
##   ..  getLatitude, getLongitude, getReplyToSID, getReplyToSN,
##   ..  getReplyToUID, getRetweetCount, getRetweeted, getRetweeters,
##   ..  getRetweets, getScreenName, getStatusSource, getText, getTruncated,
##   ..  getUrls, initialize, setCreated, setFavoriteCount, setFavorited,
##   ..  setId, setIsRetweet, setLatitude, setLongitude, setReplyToSID,
##   ..  setReplyToSN, setReplyToUID, setRetweetCount, setRetweeted,
##   ..  setScreenName, setStatusSource, setText, setTruncated, setUrls,
##   ..  toDataFrame, toDataFrame#twitterObj
##  $ :Reference class &#39;status&#39; [package &quot;twitteR&quot;] with 17 fields
##   ..$ text         : chr &quot;Definition of existential pain = looking at code I wrote 2 years ago #rstats&quot;
##   ..$ favorited    : logi FALSE
##   ..$ favoriteCount: num 0
##   ..$ replyToSN    : chr(0) 
##   ..$ created      : POSIXct[1:1], format: &quot;2016-11-17 15:59:59&quot;
##   ..$ truncated    : logi FALSE
##   ..$ replyToSID   : chr(0) 
##   ..$ id           : chr &quot;799280933819949056&quot;
##   ..$ replyToUID   : chr(0) 
##   ..$ statusSource : chr &quot;&lt;a href=\&quot;http://twitter.com\&quot; rel=\&quot;nofollow\&quot;&gt;Twitter Web Client&lt;/a&gt;&quot;
##   ..$ screenName   : chr &quot;atiretoo&quot;
##   ..$ retweetCount : num 0
##   ..$ isRetweet    : logi FALSE
##   ..$ retweeted    : logi FALSE
##   ..$ longitude    : chr(0) 
##   ..$ latitude     : chr(0) 
##   ..$ urls         :&#39;data.frame&#39;:    0 obs. of  4 variables:
##   .. ..$ url         : chr(0) 
##   .. ..$ expanded_url: chr(0) 
##   .. ..$ dispaly_url : chr(0) 
##   .. ..$ indices     : num(0) 
##   ..and 53 methods, of which 39 are  possibly relevant:
##   ..  getCreated, getFavoriteCount, getFavorited, getId, getIsRetweet,
##   ..  getLatitude, getLongitude, getReplyToSID, getReplyToSN,
##   ..  getReplyToUID, getRetweetCount, getRetweeted, getRetweeters,
##   ..  getRetweets, getScreenName, getStatusSource, getText, getTruncated,
##   ..  getUrls, initialize, setCreated, setFavoriteCount, setFavorited,
##   ..  setId, setIsRetweet, setLatitude, setLongitude, setReplyToSID,
##   ..  setReplyToSN, setReplyToUID, setRetweetCount, setRetweeted,
##   ..  setScreenName, setStatusSource, setText, setTruncated, setUrls,
##   ..  toDataFrame, toDataFrame#twitterObj
##  $ :Reference class &#39;status&#39; [package &quot;twitteR&quot;] with 17 fields
##   ..$ text         : chr &quot;@stefanbache @hspter @carroll_jono Maybe, though that does not play nice with OOP in #rstats (of the S3 OR S4 variety)&quot;
##   ..$ favorited    : logi FALSE
##   ..$ favoriteCount: num 1
##   ..$ replyToSN    : chr &quot;stefanbache&quot;
##   ..$ created      : POSIXct[1:1], format: &quot;2016-11-17 15:59:23&quot;
##   ..$ truncated    : logi FALSE
##   ..$ replyToSID   : chr &quot;799273758242508800&quot;
##   ..$ id           : chr &quot;799280782963421185&quot;
##   ..$ replyToUID   : chr &quot;314708384&quot;
##   ..$ statusSource : chr &quot;&lt;a href=\&quot;http://twitter.com\&quot; rel=\&quot;nofollow\&quot;&gt;Twitter Web Client&lt;/a&gt;&quot;
##   ..$ screenName   : chr &quot;groundwalkergmb&quot;
##   ..$ retweetCount : num 0
##   ..$ isRetweet    : logi FALSE
##   ..$ retweeted    : logi FALSE
##   ..$ longitude    : chr(0) 
##   ..$ latitude     : chr(0) 
##   ..$ urls         :&#39;data.frame&#39;:    0 obs. of  4 variables:
##   .. ..$ url         : chr(0) 
##   .. ..$ expanded_url: chr(0) 
##   .. ..$ dispaly_url : chr(0) 
##   .. ..$ indices     : num(0) 
##   ..and 53 methods, of which 39 are  possibly relevant:
##   ..  getCreated, getFavoriteCount, getFavorited, getId, getIsRetweet,
##   ..  getLatitude, getLongitude, getReplyToSID, getReplyToSN,
##   ..  getReplyToUID, getRetweetCount, getRetweeted, getRetweeters,
##   ..  getRetweets, getScreenName, getStatusSource, getText, getTruncated,
##   ..  getUrls, initialize, setCreated, setFavoriteCount, setFavorited,
##   ..  setId, setIsRetweet, setLatitude, setLongitude, setReplyToSID,
##   ..  setReplyToSN, setReplyToUID, setRetweetCount, setRetweeted,
##   ..  setScreenName, setStatusSource, setText, setTruncated, setUrls,
##   ..  toDataFrame, toDataFrame#twitterObj</code></pre>
<p>To get the data into a data frame, use</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">df &lt;-<span class="st"> </span><span class="kw">twListToDF</span>(tweets) %&gt;%
<span class="st">  </span><span class="kw">tbl_df</span>()
df</code></pre></div>
<pre><code>## # A tibble: 5 × 16
##                                                                          text
## *                                                                       &lt;chr&gt;
## 1 RT @Rbloggers: R Jobs for R users – 10 jobs from around the world (2016-11-
## 2 RT @tarakc02: Currently in development: rmapzen, an #rstats package to acce
## 3 New #rstats coding style makes it as readable as #perl : https://t.co/pRxUm
## 4 Definition of existential pain = looking at code I wrote 2 years ago #rstat
## 5 @stefanbache @hspter @carroll_jono Maybe, though that does not play nice wi
## # ... with 15 more variables: favorited &lt;lgl&gt;, favoriteCount &lt;dbl&gt;,
## #   replyToSN &lt;chr&gt;, created &lt;dttm&gt;, truncated &lt;lgl&gt;, replyToSID &lt;chr&gt;,
## #   id &lt;chr&gt;, replyToUID &lt;chr&gt;, statusSource &lt;chr&gt;, screenName &lt;chr&gt;,
## #   retweetCount &lt;dbl&gt;, isRetweet &lt;lgl&gt;, retweeted &lt;lgl&gt;, longitude &lt;lgl&gt;,
## #   latitude &lt;lgl&gt;</code></pre>
</div>
<div id="practice-using-twitter" class="section level2">
<h2>Practice using <code>twitteR</code></h2>
<ol style="list-style-type: decimal">
<li>Create a new R project on your computer. You can use Git for VCS or not - it is just for practice in class today</li>
<li>Setup your API key with a Twitter app</li>
<li>Authenticate using the <code>twitteR</code> package in R</li>
<li>Find the 50 most recent tweets by Donald Trump and store them in a data frame
<ul>
<li><code>userTimeline()</code> can be used to retrieve tweets from individual users</li>
<li><code>searchTwitter()</code> finds tweets from any public account that references the username</li>
</ul></li>
</ol>
<div id="solution" class="section level3">
<h3>Solution</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">setup_twitter_oauth</span>(<span class="dt">consumer_key =</span> <span class="kw">getOption</span>(<span class="st">&quot;twitter_api_key&quot;</span>),
                    <span class="dt">consumer_secret =</span> <span class="kw">getOption</span>(<span class="st">&quot;twitter_api_token&quot;</span>))</code></pre></div>
<pre><code>## [1] &quot;Using browser based authentication&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">trump &lt;-<span class="st"> </span><span class="kw">userTimeline</span>(<span class="st">&quot;realDonaldTrump&quot;</span>, <span class="dt">n =</span> <span class="dv">50</span>)

trump_df &lt;-<span class="st"> </span><span class="kw">twListToDF</span>(trump) %&gt;%
<span class="st">  </span><span class="kw">tbl_df</span>()
trump_df</code></pre></div>
<pre><code>## # A tibble: 45 × 16
##                                                                           text
## *                                                                        &lt;chr&gt;
## 1  My transition team, which is working long hours and doing a fantastic job, 
## 2  Australia, New Zealand, and more. I am always available to them. @nytimes i
## 3  I have recieved and taken calls from many foreign leaders despite what the 
## 4  The failing @nytimes story is so totally wrong on transition. It is going s
## 5  I am not trying to get &quot;top level security clearance&quot; for my children. This
## 6  Very organized process taking place as I decide on Cabinet and many other p
## 7  The Electoral College is actually genius in that it brings all states, incl
## 8  If the election were based on total popular vote I would have campaigned in
## 9  The debates, especially the second and third, plus speeches and intensity o
## 10 I will be interviewed on @60Minutes tonight after the NFL game - 7:00 P.M. 
## # ... with 35 more rows, and 15 more variables: favorited &lt;lgl&gt;,
## #   favoriteCount &lt;dbl&gt;, replyToSN &lt;lgl&gt;, created &lt;dttm&gt;, truncated &lt;lgl&gt;,
## #   replyToSID &lt;lgl&gt;, id &lt;chr&gt;, replyToUID &lt;lgl&gt;, statusSource &lt;chr&gt;,
## #   screenName &lt;chr&gt;, retweetCount &lt;dbl&gt;, isRetweet &lt;lgl&gt;,
## #   retweeted &lt;lgl&gt;, longitude &lt;lgl&gt;, latitude &lt;lgl&gt;</code></pre>
</div>
</div>
</div>
<div id="acknowledgments" class="section level1 toc-ignore">
<h1>Acknowledgments</h1>
<ul>
<li>This page is derived in part from <a href="http://stat545.com">“UBC STAT 545A and 547M”</a>, licensed under the <a href="https://creativecommons.org/licenses/by-nc/3.0/">CC BY-NC 3.0 Creative Commons License</a>.</li>
</ul>
</div>
<div id="session-info" class="section level1 toc-ignore">
<h1>Session Info</h1>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">devtools::<span class="kw">session_info</span>()</code></pre></div>
<pre><code>## Session info --------------------------------------------------------------</code></pre>
<pre><code>##  setting  value                       
##  version  R version 3.3.1 (2016-06-21)
##  system   x86_64, darwin13.4.0        
##  ui       X11                         
##  language (EN)                        
##  collate  en_US.UTF-8                 
##  tz       America/Chicago             
##  date     2016-11-17</code></pre>
<pre><code>## Packages ------------------------------------------------------------------</code></pre>
<pre><code>##  package      * version  date       source                           
##  assertthat     0.1      2013-12-06 CRAN (R 3.3.0)                   
##  bit            1.1-12   2014-04-09 CRAN (R 3.3.0)                   
##  bit64          0.9-5    2015-07-05 CRAN (R 3.3.0)                   
##  boot         * 1.3-18   2016-02-23 CRAN (R 3.3.1)                   
##  broom        * 0.4.1    2016-06-24 CRAN (R 3.3.0)                   
##  car            2.1-3    2016-08-11 CRAN (R 3.3.0)                   
##  caret        * 6.0-73   2016-11-10 CRAN (R 3.3.2)                   
##  codetools      0.2-15   2016-10-05 CRAN (R 3.3.0)                   
##  colorspace     1.2-7    2016-10-11 CRAN (R 3.3.0)                   
##  curl           2.2      2016-10-21 CRAN (R 3.3.0)                   
##  DBI            0.5-1    2016-09-10 CRAN (R 3.3.0)                   
##  devtools       1.12.0   2016-06-24 CRAN (R 3.3.0)                   
##  digest         0.6.10   2016-08-02 CRAN (R 3.3.0)                   
##  dplyr        * 0.5.0    2016-06-24 CRAN (R 3.3.0)                   
##  evaluate       0.10     2016-10-11 CRAN (R 3.3.0)                   
##  foreach        1.4.3    2015-10-13 CRAN (R 3.3.0)                   
##  foreign        0.8-67   2016-09-13 CRAN (R 3.3.0)                   
##  gapminder    * 0.2.0    2015-12-31 CRAN (R 3.3.0)                   
##  geonames     * 0.998    2014-12-19 CRAN (R 3.3.0)                   
##  gganimate    * 0.1      2016-11-11 Github (dgrtwo/gganimate@26ec501)
##  ggplot2      * 2.2.0    2016-11-10 Github (hadley/ggplot2@f442f32)  
##  gtable         0.2.0    2016-02-26 CRAN (R 3.3.0)                   
##  gutenbergr   * 0.1.2    2016-06-24 CRAN (R 3.3.0)                   
##  highr          0.6      2016-05-09 CRAN (R 3.3.0)                   
##  htmltools      0.3.5    2016-03-21 CRAN (R 3.3.0)                   
##  htmlwidgets    0.8      2016-11-09 CRAN (R 3.3.1)                   
##  httr           1.2.1    2016-07-03 CRAN (R 3.3.0)                   
##  ISLR         * 1.0      2013-06-11 CRAN (R 3.3.0)                   
##  iterators      1.0.8    2015-10-13 CRAN (R 3.3.0)                   
##  janeaustenr  * 0.1.4    2016-10-26 CRAN (R 3.3.0)                   
##  jsonlite       1.1      2016-09-14 CRAN (R 3.3.0)                   
##  knitr        * 1.15     2016-11-09 CRAN (R 3.3.1)                   
##  labeling       0.3      2014-08-23 CRAN (R 3.3.0)                   
##  lattice      * 0.20-34  2016-09-06 CRAN (R 3.3.0)                   
##  lazyeval       0.2.0    2016-06-12 CRAN (R 3.3.0)                   
##  lme4           1.1-12   2016-04-16 cran (@1.1-12)                   
##  lubridate    * 1.6.0    2016-09-13 CRAN (R 3.3.0)                   
##  magrittr       1.5      2014-11-22 CRAN (R 3.3.0)                   
##  MASS           7.3-45   2016-04-21 CRAN (R 3.3.1)                   
##  Matrix         1.2-7.1  2016-09-01 CRAN (R 3.3.0)                   
##  MatrixModels   0.4-1    2015-08-22 CRAN (R 3.3.0)                   
##  memoise        1.0.0    2016-01-29 CRAN (R 3.3.0)                   
##  mgcv           1.8-16   2016-11-07 CRAN (R 3.3.0)                   
##  minqa          1.2.4    2014-10-09 cran (@1.2.4)                    
##  mnormt         1.5-5    2016-10-15 CRAN (R 3.3.0)                   
##  ModelMetrics   1.1.0    2016-08-26 CRAN (R 3.3.0)                   
##  modelr       * 0.1.0    2016-08-31 CRAN (R 3.3.0)                   
##  modeltools     0.2-21   2013-09-02 CRAN (R 3.3.0)                   
##  munsell        0.4.3    2016-02-13 CRAN (R 3.3.0)                   
##  nlme           3.1-128  2016-05-10 CRAN (R 3.3.1)                   
##  nloptr         1.0.4    2014-08-04 cran (@1.0.4)                    
##  NLP            0.1-9    2016-02-18 CRAN (R 3.3.0)                   
##  nnet           7.3-12   2016-02-02 CRAN (R 3.3.1)                   
##  openssl        0.9.5    2016-10-28 CRAN (R 3.3.0)                   
##  pbkrtest       0.4-6    2016-01-27 CRAN (R 3.3.0)                   
##  plyr           1.8.4    2016-06-08 CRAN (R 3.3.0)                   
##  profvis      * 0.3.2    2016-05-19 CRAN (R 3.3.0)                   
##  psych          1.6.9    2016-09-17 cran (@1.6.9)                    
##  purrr        * 0.2.2    2016-06-18 CRAN (R 3.3.0)                   
##  quantreg       5.29     2016-09-04 CRAN (R 3.3.0)                   
##  R6             2.2.0    2016-10-05 CRAN (R 3.3.0)                   
##  randomForest * 4.6-12   2015-10-07 CRAN (R 3.3.0)                   
##  rcfss        * 0.1.0    2016-10-06 local                            
##  RColorBrewer   1.1-2    2014-12-07 CRAN (R 3.3.0)                   
##  Rcpp           0.12.7   2016-09-05 cran (@0.12.7)                   
##  readr        * 1.0.0    2016-08-03 CRAN (R 3.3.0)                   
##  readxl       * 0.1.1    2016-03-28 CRAN (R 3.3.0)                   
##  rebird       * 0.3.0    2016-03-23 CRAN (R 3.3.0)                   
##  reshape2       1.4.2    2016-10-22 CRAN (R 3.3.0)                   
##  rjson          0.2.15   2014-11-03 cran (@0.2.15)                   
##  rmarkdown    * 1.1      2016-10-16 CRAN (R 3.3.1)                   
##  rplos        * 0.6.0    2016-07-22 CRAN (R 3.3.0)                   
##  rstudioapi     0.6      2016-06-27 CRAN (R 3.3.0)                   
##  scales       * 0.4.1    2016-11-09 CRAN (R 3.3.1)                   
##  slam           0.1-38   2016-08-18 CRAN (R 3.3.2)                   
##  SnowballC      0.5.1    2014-08-09 cran (@0.5.1)                    
##  solr           0.1.6    2015-09-17 CRAN (R 3.3.0)                   
##  SparseM        1.72     2016-09-06 CRAN (R 3.3.0)                   
##  stringi        1.1.2    2016-10-01 CRAN (R 3.3.0)                   
##  stringr      * 1.1.0    2016-08-19 cran (@1.1.0)                    
##  tibble       * 1.2      2016-08-26 cran (@1.2)                      
##  tidyr        * 0.6.0    2016-08-12 CRAN (R 3.3.0)                   
##  tidytext     * 0.1.2    2016-10-28 CRAN (R 3.3.0)                   
##  tidyverse    * 1.0.0    2016-09-09 CRAN (R 3.3.0)                   
##  tm             0.6-2    2015-07-03 CRAN (R 3.3.0)                   
##  tokenizers     0.1.4    2016-08-29 CRAN (R 3.3.0)                   
##  topicmodels  * 0.2-4    2016-05-23 CRAN (R 3.3.0)                   
##  tree         * 1.0-37   2016-01-21 CRAN (R 3.3.0)                   
##  twitteR      * 1.1.9    2015-07-29 CRAN (R 3.3.0)                   
##  whisker        0.3-2    2013-04-28 CRAN (R 3.3.0)                   
##  withr          1.0.2    2016-06-20 CRAN (R 3.3.0)                   
##  XML            3.98-1.4 2016-03-01 CRAN (R 3.3.0)                   
##  yaml           2.1.13   2014-06-12 CRAN (R 3.3.0)</code></pre>
</div>

<p>This work is licensed under the  <a href="http://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC 4.0 Creative Commons License</a>.</p>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
$(document).ready(function () {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
